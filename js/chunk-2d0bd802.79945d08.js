(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bd802"],{"2bea":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mt-5"},[e("h2",{staticClass:"mb-3"},[t._v("更新前台 Swiper 圖片")]),e("p",{staticClass:"text-danger"},[t._v("從 firebase 取得圖片網址再渲染時，進入畫面會有問題，詳 Swiper.vue")]),e("div",{staticClass:"row mb-8"},t._l(t.banners,(function(a,n){return e("div",{key:a.id,staticClass:"col-md-3 d-flex justify-content-center mb-3"},[e("div",{staticClass:"card",staticStyle:{width:"18rem"}},[e("img",{staticClass:"card-img-top",attrs:{src:a.image,height:"200"}}),e("div",[e("p",[t._v("圖片順序 : "+t._s(n+1))])]),e("div",{staticClass:"card-body d-flex justify-content-between"},[e("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){return t.openModal("updateBanner",a)}}},[t._v("更換圖片")]),e("button",{staticClass:"btn btn-outline-danger",on:{click:function(e){return t.openModal("deleteBanner",a)}}},[t._v("刪除")])])])])})),0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("p",{staticClass:"h3 mb-3"},[t._v("預覽圖片")]),e("img",{staticClass:"img-fluid",attrs:{src:t.newBanner,alt:""}})]),e("div",{staticClass:"col-md-6"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.uploadBanner(a)}}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"h4 mb-3",attrs:{for:"banner-input"}},[t._v("新增圖片")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newBanner,expression:"newBanner"}],staticClass:"form-control mb-3",attrs:{type:"text",id:"banner-input",placeholder:"請貼上圖片網址"},domProps:{value:t.newBanner},on:{input:function(a){a.target.composing||(t.newBanner=a.target.value)}}}),t._m(0)])])])]),e("div",{staticClass:"modal fade",attrs:{id:"updateModal",tabindex:"-1",role:"dialog","aria-labelledby":"updateModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("h3",[t._v("原本圖片")]),e("img",{staticClass:"img-fluid",attrs:{height:"200",src:t.oriBanner.image,alt:""}})]),e("div",{staticClass:"col-md-6"},[e("h3",[t._v("替換圖片")]),e("img",{staticClass:"img-fluid",attrs:{height:"200",src:t.tempBanner,alt:""}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempBanner,expression:"tempBanner"}],staticClass:"form-control mt-5",attrs:{type:"text",placeholder:"請貼上圖片網址"},domProps:{value:t.tempBanner},on:{input:function(a){a.target.composing||(t.tempBanner=a.target.value)}}})])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-warning",attrs:{type:"button"},on:{click:t.updateBanner}},[t._v("更新")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"deleteModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(2),e("div",{staticClass:"modal-body"},[e("h3",[t._v("確定要刪除這張圖片嗎?")]),e("img",{staticClass:"img-fluid",attrs:{src:t.oriBanner.image}})]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:t.deleteBanner}},[t._v("確定刪除")])])])])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-warning",attrs:{type:"submit"}},[t._v("上傳")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-primary text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"updateModalLabel"}},[t._v("更新圖片")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger"},[e("h5",{staticClass:"modal-title text-white",attrs:{id:"deleteModalLabel"}},[t._v("刪除圖片")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],i=(e("4160"),e("159b"),{data:function(){return{banners:[],newBanner:"",oriBanner:"",tempBanner:""}},methods:{getBanners:function(){var t=this,a=firebase.database().ref("banners");t.banners=[],a.once("value",(function(a){a.forEach((function(a){t.banners.push(a.val())}))}))},uploadBanner:function(){var t=this,a=firebase.database().ref("banners");a.push({image:t.newBanner}).then((function(t){a.child("".concat(t.key,"/id")).set(t.key)})),t.newBanner="",t.getBanners()},openModal:function(t,a){var e=this;switch(t){case"updateBanner":e.oriBanner=a,e.tempBanner="",$("#updateModal").modal("show");break;default:e.oriBanner=a,$("#deleteModal").modal("show");break}},updateBanner:function(){var t=this,a=firebase.database().ref("banners");a.child("".concat(t.oriBanner.id,"/image")).set(t.tempBanner),$("#updateModal").modal("hide"),t.getBanners()},deleteBanner:function(){var t=this,a=firebase.database().ref("banners");a.child(t.oriBanner.id).remove(),$("#deleteModal").modal("hide"),t.getBanners()}},created:function(){this.getBanners()}}),r=i,l=e("2877"),d=Object(l["a"])(r,n,s,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0bd802.79945d08.js.map